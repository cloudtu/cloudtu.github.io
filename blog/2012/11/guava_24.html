<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
      <meta charset="utf-8" />
      <title>Guava 心得筆記</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta name="description" content="" />
      <meta name="author" content="cloudtu" />
      <meta name="keywords" content="" />

      <!-- Le styles -->
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
      <link rel="stylesheet" href="/css/base.css" />
      <link rel="stylesheet" href="/css/prettify.css" />
  </head>
  <body onload="prettyPrint()">

  <!-- facebook script -->
  <div id="fb-root"></div>
  <script xml:space="preserve">
  //<![CDATA[
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v2.4";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
  //]]>
  </script>

  <div id="wrap">
    <div>

    <!-- Fixed navbar -->
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" shape="rect" href="/index.html">CloudTu's blog</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" shape="rect">Tags<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li>
                  <a shape="rect" href="/tags/android.html">android</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/aws.html">aws</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/bitbucket.html">bitbucket</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/cassandra.html">cassandra</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/connection-pool.html">connection-pool</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/eclipse.html">eclipse</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/gae.html">gae</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/git.html">git</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/github.html">github</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/guava.html">guava</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/java.html">java</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/javascript.html">javascript</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jax-rs.html">jax-rs</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jersey.html">jersey</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jetty.html">jetty</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jquery.html">jquery</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/linux.html">linux</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/nexus7.html">nexus7</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/notepad-plus-plus.html">notepad-plus-plus</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/oauth2.html">oauth2</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/olap.html">olap</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/python.html">python</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/remote-control.html">remote-control</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/router.html">router</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/selenium.html">selenium</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/ssh.html">ssh</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/switch.html">switch</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/tomato.html">tomato</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/tomcat.html">tomcat</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/windows7.html">windows7</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/喔~鋼普拉.html">喔~鋼普拉</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/心情記事.html">心情記事</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/敗~敗家啦.html">敗~敗家啦</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/版控系統.html">版控系統</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/程式語言.html">程式語言</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/阿殺不魯.html">阿殺不魯</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/電影、戲劇.html">電影、戲劇</a>
                </li>
              </ul>
            </li>
            <li><a shape="rect" href="/archive.html">Archive</a></li>
            <li><a shape="rect" href="/feed.xml">RSS</a></li>
            <li><a shape="rect" href="/about.html">About</a></li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" shape="rect">Search<b class="caret"></b></a>
              <ul class="dropdown-menu google_search">
                <li>
                  <script xml:space="preserve">
                  //<![CDATA[
                    (function() {
                      var cx = '001738447238955852876:bkori8ynpby';
                      var gcse = document.createElement('script');
                      gcse.type = 'text/javascript';
                      gcse.async = true;
                      gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                          '//cse.google.com/cse.js?cx=' + cx;
                      var s = document.getElementsByTagName('script')[0];
                      s.parentNode.insertBefore(gcse, s);
                    })();
                  //]]>
                  </script>
                  <gcse:searchbox-only></gcse:searchbox-only>
                </li>
              </ul>
            </li>
          </ul>

        </div><!--/.nav-collapse -->
      </div>
    </div>

  </div>
    <div class="container">

      <div class="page-header">
        <h1>Guava 心得筆記</h1>
      </div>

      <p><em>2012-11-24</em></p>

      <p>
        <em>Tags:
          <span>
            <a shape="rect" href="../../../tags/guava.html">guava</a>
            <span>,</span>
          </span>
          <span>
            <a shape="rect" href="../../../tags/程式語言.html">程式語言</a>
            <span>,</span>
          </span>
          <span>
            <a shape="rect" href="../../../tags/java.html">java</a>
            
          </span>
        </em>
      </p>

      <p>
這陣子看了Guava相關資料後有了些心得，將它做了個重點筆記有需要的可以拿去參考...:)
<br>
<br>=========================================================================== 
<br>常用package清單
<br>
<pre class="prettyprint"><code>com.google.common.base<br>com.google.common.collect<br>com.google.common.io<br>com.google.common.math<br>com.google.common.primitives<br></code></pre>===========================================================================
<br>com.google.common.base package
<br>
<br>1.通用的HelperClass在這個package
<br>
<br>2.供了Function programming功能
<br>
<pre class="prettyprint"><code>Function&lt;A,B&gt; == A =&gt; B，配合Colllections2.transform(),Iterables.transform(),Iterators.transform()使用<br>Predicate&lt;T&gt; == T =&gt; Boolean，配合Colllections2.filter(),Iterables.filter(),Iterators.filter()使用<br>Optional&lt;T&gt; == "Present" or "Absent"</code></pre>3.常用class的API或SampeCode如下
<br>
<pre class="prettyprint"><code>CharMatcher.DIGIT.retainFrom("test 1234");<br>CharMatcher.ASCII.retainFrom("test 1234"); <br></code></pre>
<pre class="prettyprint"><code>String numbersAsString = Joiner.on(";").skipNulls().join(Ints.asList(numbers));<br>Iterable&lt;String&gt; splitResult = Splitter.on(",").split(numbsAsString);<br></code></pre>
<pre class="prettyprint"><code>Preconditions.checkArgument(count &gt; 0, "must be positive: %s", count);<br></code></pre>
<pre class="prettyprint"><code>Objects.equal(Object a, Object b)<br>Objects.hashCode(Object... objects)<br>Objects.toStringHelper(Object self)<br></code></pre>
<pre class="prettyprint"><code>Strings.isNullOrEmpty(String string)<br>Strings.nullToEmpty(String string)<br>Strings.padStart(String string, int minLength, char padChar)<br>Strings.padEnd(String string, int minLength, char padChar)<br></code></pre>
<pre class="prettyprint"><code>Charsets.UTF_8<br>Charsets.UTF_16 <br>Charsets.ISO_8859_1<br></code></pre>
<pre class="prettyprint"><code>Stopwatch stopwatch = new Stopwatch().start();<br>stopwatch.stop();<br>long millis = stopwatch.elapsedMillis();<br></code></pre>===========================================================================
<br>com.google.common.collect package
<br>
<br>1.集合相關的class在這個package
<br>
<br>2.提供一些特殊集合類型
<br>
<pre class="prettyprint"><code>Multiset：Set裡許可放入重覆的元素<br>Multimaps：Map裡的同個key可以有多個value值<br>BiMap：Map裡的key跟value都只有唯一值<br>Immutable Collections:集合中的元素都不可變<br></code></pre>3.提供集合相加減功能
<br>
<pre class="prettyprint"><code>Sets.union(a, b);//a聯集b<br>Sets.intersection(a, b);//a交集b<br>Sets.symmetricDifference(a, b);//a聯集b - a交集b<br>Sets.difference(a, b);//a裡面減掉b的部份<br>Sets.difference(b, a);//b裡面減掉a的部份<br><br>MapDifference differenceMap = Maps.difference(a, b); <br>differenceMap.entriesDiffering();<br>differenceMap.entriesOnlyOnLeft();<br>differenceMap.entriesInCommon();<br></code></pre>4.常用class的API或SampeCode如下
<br>
<pre class="prettyprint"><code>Maps.newHashMap();<br>Lists.newArrayList();<br>Sets.newHashSet();<br><br>Map&lt;String, Integer&gt; map = Maps.newHashMap();<br>List&lt;Integer&gt; list = Lists.newArrayList(1, 2, 3);<br></code></pre>
<pre class="prettyprint"><code>HashMultiset.create();<br>ArrayListMultimap.create();<br>BiMap.create();<br></code></pre>
<pre class="prettyprint"><code>ImmutableList&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d");<br>ImmutableMap&lt;String,String&gt; map = ImmutableMap.of("key1", "value1", "key2", "value2");<br>ImmutableMap&lt;String, Integer&gt; map = new ImmutableMap.Builder&lt;String, Integer&gt;().put("one", 1).put("two", 2).put("three", 3).build();<br></code></pre>
<pre class="prettyprint"><code>Iterables、Iterators、Collections2這三個class提供了相似的功能，有相關需求可在這裡面找符合的功能來用<br><br>Iterables.filter(Iterable&lt;T&gt; unfiltered, Predicate&lt;? super T&gt; predicate)，過濾集合所有元素，回傳符合結果的新集合<br>Iterables.transform(Iterable&lt;F&gt; fromIterable, Function&lt;? super F,? extends T&gt; function)，將集合每個內容轉換成其它內容後回傳整個新集合<br>Iterables.partition(Iterable&lt;T&gt; iterable, int size)，將集合切割成多等份<br><br>List&lt;Integer&gt; integers = Lists.newArrayList(1, 2, 3);<br>List&lt;String&gt; strings = Lists.transform(integers, Functions.toStringFunction());<br>integers.add(4);<br>integers.add(5);<br>assertThat(strings.size()).isEqualTo(5);<br></code></pre>
<pre class="prettyprint"><code>FluentIterable.from(database.getClientList()).filter(activeInLastMonth()).transform(Functions.toStringFunction()).limit(10).toImmutableList();<br></code></pre>
<pre class="prettyprint"><code>Constraints.constrainedCollection(Collection&lt;E&gt; collection, Constraint&lt;? super E&gt; constraint)<br></code></pre>
<pre class="prettyprint"><code>public int compareTo(Foo that) {<br> return ComparisonChain.start()<br>  .compare(this.aString, that.aString)<br>  .compare(this.anInt, that.anInt)<br>  .compare(this.anEnum, that.anEnum, Ordering.natural().nullsLast())<br>  .result();<br>}<br><br>Ordering.natural().lexicographical().compare(T left, T right);<br></code></pre>
<pre class="prettyprint"><code>ObjectArrays.concat(T[] array, T element)<br>ObjectArrays.concat(T element, T[] array) <br>ObjectArrays.concat(T[] first, T[] second, Class&lt;T&gt; type)<br></code></pre>
<pre class="prettyprint"><code>ConcurrentMap&lt;String, Object&gt; mapExpireAfter30Sec = new MapMaker().expireAfterWrite(30, TimeUnit.SECONDS).makeMap();<br></code></pre>===========================================================================
<br>com.google.common.io package
<br>
<br>1.IO操作(e.g.開檔、寫檔...etc)的class在這個package
<br>
<br>2.常用class的API或SampeCode如下
<br>
<pre class="prettyprint"><code>String content = Resources.toString(url);<br>String[] lines = Resources.readLines(url, Charsets.UTF_8);<br>byte[] content = Resources.toByteArray(url);<br></code></pre>
<pre class="prettyprint"><code>URI uri = Resources.getResource("test.txt").toURI();<br>List&lt;String&gt; lines = Files.readLines(new File(uri), Charsets.UTF_8);<br>String content = Files.toString(textFile, Charsets.UTF_8);<br>byte[] byteArray = Files.toByteArray(binaryFile);<br>Files.copy(fromFile, toFile);<br></code></pre>
<pre class="prettyprint"><code>CharStreams、ByteStreams這二個class針對Stream提供了多樣的操作功能<br><br>List&lt;String&gt; lines = CharStreams.readLines(reader);<br>CharStreams.copy(reader, writer);<br>String content = CharStreams.toString(reader);<br></code></pre>===========================================================================
<br>com.google.common.math package
<br>
<br>1.數學運算相關class在這個package
<br>
<br>2.常用class的API或SampeCode如下
<br>
<pre class="prettyprint"><code>IntMath.checkedAdd(int a, int b)，Returns the sum of a and b, provided it does not overflow.<br>IntMath.gcd(int a, int b)<br>IntMath.log10(int x, RoundingMode mode)<br></code></pre>===========================================================================
<br>com.google.common.primitives package
<br>
<br>1.基本型別、基本型別陣列相關操作，找這個package就對了
<br>
<br>2.常用class的API或SampeCode如下
<br>
<pre class="prettyprint"><code>Ints.compare(int a, int b)<br>Ints.max(int... array)<br>Ints.min(int... array)<br>String joined = Ints.join(",", intArray);<br></code></pre>
</p>

      <hr />

      <!-- facebook like button -->
      <div class="fb-like" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false" data-href="http://cloudtu.github.io/blog/2012/11/guava_24.html"></div>

      <!-- facebook share button -->
      <div class="fb-share-button" data-layout="button_count" data-href="http://cloudtu.github.io/blog/2012/11/guava_24.html"></div>

      <!-- Disqus comment plugin -->
      <div id="disqus_thread"></div>
      <script type="text/javascript" xml:space="preserve">
      //<![CDATA[
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//cloudtu.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      //]]>
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow" shape="rect">comments powered by Disqus.</a></noscript>

    </div>
  </div>
  <div>
      <div id="push"></div>

        <div id="footer">
          <div class="container">
            <p class="muted credit">&copy; <span>2015</span> CloudTu | Baked with <a href="http://jbake.org" shape="rect">JBake
              <span>v2.3.2</span></a></p>
          </div>
        </div>

        <!-- Le javascript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script xml:space="preserve" src="/js/jquery-2.1.1.min.js"></script>
        <script xml:space="preserve" src="/js/bootstrap.min.js"></script>
        <script xml:space="preserve" src="/js/prettify.js"></script>

      </div>
    </body>
</html>
