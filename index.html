<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
      <meta charset="utf-8" />
      <title>老涂的咁仔店</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta name="description" content="" />
      <meta name="author" content="cloudtu" />
      <meta name="keywords" content="" />

      <!-- Le styles -->
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
      <link rel="stylesheet" href="/css/base.css" />
      <link rel="stylesheet" href="/css/prettify.css" />
  </head>
  <body onload="prettyPrint()">

  <div id="wrap">
    <div>

    <!-- Fixed navbar -->
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" shape="rect" href="/index.html">CloudTu's blog</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" shape="rect">Tags<b class="caret"></b></a>
              <ul class="dropdown-menu scrollable-menu">
                <li>
                  <a shape="rect" href="/tags/android.html">android</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/aws.html">aws</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/bitbucket.html">bitbucket</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/cassandra.html">cassandra</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/connection-pool.html">connection-pool</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/eclipse.html">eclipse</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/gae.html">gae</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/git.html">git</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/github.html">github</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/guava.html">guava</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/java.html">java</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/javascript.html">javascript</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jax-rs.html">jax-rs</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jbake.html">jbake</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jersey.html">jersey</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jetty.html">jetty</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/jquery.html">jquery</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/linux.html">linux</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/nexus7.html">nexus7</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/notepad-plus-plus.html">notepad-plus-plus</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/oauth2.html">oauth2</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/olap.html">olap</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/python.html">python</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/remote-control.html">remote-control</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/router.html">router</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/selenium.html">selenium</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/ssh.html">ssh</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/switch.html">switch</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/tomato.html">tomato</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/tomcat.html">tomcat</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/windows7.html">windows7</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/喔~鋼普拉.html">喔~鋼普拉</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/心情記事.html">心情記事</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/敗~敗家啦.html">敗~敗家啦</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/版控系統.html">版控系統</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/程式語言.html">程式語言</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/阿殺不魯.html">阿殺不魯</a>
                </li>
                <li>
                  <a shape="rect" href="/tags/電影、戲劇.html">電影、戲劇</a>
                </li>
              </ul>
            </li>
            <li><a shape="rect" href="/archive.html">Archive</a></li>
            <li><a shape="rect" href="/feed.xml">RSS</a></li>
            <li><a shape="rect" href="/about.html">About</a></li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" shape="rect">Search<b class="caret"></b></a>
              <ul class="dropdown-menu google_search">
                <li>
                  <script xml:space="preserve">
                  //<![CDATA[
                    (function() {
                      var cx = '001738447238955852876:bkori8ynpby';
                      var gcse = document.createElement('script');
                      gcse.type = 'text/javascript';
                      gcse.async = true;
                      gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                          '//cse.google.com/cse.js?cx=' + cx;
                      var s = document.getElementsByTagName('script')[0];
                      s.parentNode.insertBefore(gcse, s);
                    })();
                  //]]>
                  </script>
                  <gcse:searchbox-only></gcse:searchbox-only>
                </li>
              </ul>
            </li>
          </ul>

        </div><!--/.nav-collapse -->
      </div>
    </div>

  </div>
    <div class="container">
      <div class="index_page_banner">
        <h1 style="margin-top: 0px; margin-bottom: 0px;">老涂的咁仔店</h1>
        <p style="margin-top: 50px; margin-bottom: 0px;">記載生活點滴、敗家記事、程式撰寫...etc</p>
      </div>

      <div>
        <a href="blog/2015/08/migrate-from-blogger-to-jbake.html" shape="rect"><h1>利用 jbake 從 blogger 搬家到 github</h1></a>
        <p>2015-08-18</p>

        <p>
          <em>Tags:
            <span>
              <a shape="rect" href="tags/程式語言.html">程式語言</a>
              <span>,</span>
            </span>
            <span>
              <a shape="rect" href="tags/java.html">java</a>
              <span>,</span>
            </span>
            <span>
              <a shape="rect" href="tags/jbake.html">jbake</a>
              
            </span>
          </em>
        </p>

        <p><p>打算搬離 <a href="http://blogger.com">blogger</a> 的念頭很早就有了，只是一直沒有行動。主要原因還是打包整個站台的文章、圖片太麻煩，所以就一直沒動手。二週前開始有了段長時間的空檔，所以下定決心告別 blogger，自己蓋個新 blog 站台。</p><h2>為何搬離 blogger</h2><p>沒事 blogger 用的好好的為何會想搬家呢? 原因大略是下述儿點</p>
<ol>
  <li>不易撰寫技術文章。blogger 上面寫一般生活記事很容易，但是寫程式開發技術文就不是這麼回事了，要讓美美的程式碼秀出正常樣子實在太累人。</li>
  <li>發佈文章前的文章檢視功能跑起來超慢。這可能跟我在 blogger 上插了很多外掛模組有關，但是這些模組我都會用到呀不能拿掉，所以這問題無解 囧rz</li>
</ol><h2>選擇新家</h2><p>既然要搬家了，那新家要怎麼選呢? 我決定 <code>自己的 blog 自己蓋</code>。</p><p>ingram 的 <a href="http://ingramchen.io/blog/2014/01/move-to-new-home-again.html">新年搬新家- Jbake</a> 裡提到 <code>任何 Hosting Service 最終都會消失</code> 是非常中肯的見解。雖然不見得一定會消失，但是未來的事實在太難說。現在寫 blog 早就不潮了，但是寫了十多年累積的 400 多篇文章說什麼也不能隨著搬家歸零重來。為了避免未來一而再再而三的搬家，還是自己蓋 blog 吧!</p><h2>新 blog 怎麼搭建?</h2><p>既然要自己土砲了，那當然是找目前市面上 <code>static site generator</code> 產品有哪些。 <a href="https://www.staticgen.com/">StaticGen</a> 上看到的統計報表裡，最熱門的產品是 <a href="http://jekyllrb.com/">jekyll</a>，不過我是 java guy 所以我選 <a href="http://jbake.org">jbake</a> 這個 java solution。</p><p>下列儿項 jbake 產品特性是我選它的原因</p>
<ol>
  <li>完整的<a href="http://www.jbake.org/docs/2.4.0/">說明書</a>。</li>
  <li>多人維護的<a href="https://github.com/jbake-org/jbake">專案</a>，不用擔心突然被放生。</li>
  <li>blog 文章支援 <code>markdown</code>, <code>html</code> 格式。html 格式就不用說了，算是舊時代的遺物，一定會支援。寫新文章的話，如果不是文章格式很複雜，我是一定會選擇 markdown 格式，可以省時又省力。</li>
  <li>內建 <code>jetty</code>，文章寫完後可以馬上在 local 跑起來看看結果正不正確，不需丟到 remote 才能進行驗証</li>
  <li>文章裡貼的程式碼可以用 <code>pretty print</code> 風格來呈現。</li>
</ol><h2>jbake 快速上手</h2><p>下載 <a href="http://www.jbake.org/download.html">jbake</a> 進行安裝。目前 v2.4.0 最新版有個<a href="https://github.com/jbake-org/jbake/issues/226">嚴重的 bug</a>，每次 site gen 時一定會全部資料重建，沒辦法進行 incremental render，建議安裝 v2.3.2 版。</p><p>jbake v2.3.2 常用指令沒儿個，搞懂它吧!</p>
<!--?prettify?-->
<pre><code class="sh"># init jbake project
jbake -i
jbake -i &lt;freemarker|groovy|thymeleaf&gt;

# site gen
jbake -b
jbake -b &lt;source&gt; &lt;output&gt;

# start local server
jbake -s
jbake -s &lt;directory&gt;

# site gen &amp; start local server
jbake -b -s
</code></pre><p><a href="http://www.jbake.org/docs/2.4.0/">官方文件</a>不長而且很完整，建議看過一遍。</p><h2>jbake.properties 設定檔說明</h2><p>其中比較需要特別說明的是 <code>db.store=local</code>，設成這值代表每次 jbake 只會針對異動(新增或修改)的文章進行 site gen，不會全部的文章都進行 site gen，這是一個很有用的功能!</p>
<!--?prettify?-->
<pre><code class="sh"># defines the host URL for the site
site.host={my_blog_site_url}

# render index file?
render.index=true
# render archive file?
render.archive=true
# render feed file?
render.feed=true
# render tag files?
render.tags=true
# render sitemap.xml file?
render.sitemap=true

# filename of index template file
template.index.file=index.thyme
# filename of archive template file
template.archive.file=archive.thyme
# filename of tag template file
template.tag.file=tags.thyme
# filename of sitemap template file
template.sitemap.file=sitemap.thyme
# filename of post template file
template.post.file=post.thyme
# filename of page template file
template.page.file=page.thyme
# filename of feed template file
template.feed.file=feed.thyme

# default date format used in content files
date.format=yyyy-MM-dd

# database store (local, memory)
# This option defines whether the content store built while parsing your content files is persisted to disk or not.When it is persisted to disk the next time you perform a bake only those content files that have changed will be rendered speeding up the process. When it is not persisted to disk, i.e. kept in memory, a full bake of all content is performed every time.
db.store=local
</code></pre><h2>撰寫 markdown 文件的注意事項</h2><p>文章如果出現 <code>包了太多層的條列式項目</code> 可能會導致 site gen 後的 html 出現排版亂掉的問題，撰寫文章時要迴避這問題。</p><h2>markdown 文件如何插入圖片?</h2><p>只是單純的文章插入圖片可以直接用 markdown 語法</p>
<!--?prettify?-->
<pre><code>![imageName](imageFileUrl)
</code></pre><p>如果要有 <code>點擊縮圖時開啟原始大圖</code> 效果，必需用 html 語法</p>
<!--?prettify?-->
<pre><code class="html">&lt;a href=&quot;/img/{myImage.jpg}&quot; target=&quot;_blank&quot;&gt;
    &lt;img src=&quot;/img/{myImage.jpg}&quot; width=&quot;{width}&quot; /&gt;
&lt;/a&gt;
</code></pre><h2>markdown 文件如何插入程式碼?</h2><p>可以用 markdown 或 html 語法，個人推薦用 markdown 語法</p>
<pre><code># markdown 格式
&lt;!--?prettify linenums=true?--&gt;
```java
public class CloudTu {
  public static void main(String[] args) {
    System.out.print(&quot;hello world!&quot;);
  }
}
```
</code></pre>
<pre><code class="html"># html 格式
&lt;pre class=&quot;prettyprint linenums&quot;&gt;
public class CloudTu {
  public static void main(String[] args) {
    System.out.print(&quot;hello world!&quot;);
  }
}
&lt;/pre&gt;
</code></pre><p>site gen 結果像下面這樣，程式碼帶有行號而且是 pretty print 風格</p>
<!--?prettify linenums=true?-->
<pre><code class="java">public class CloudTu {
  public static void main(String[] args) {
    System.out.print(&quot;hello world!&quot;);
  }
}
</code></pre><p>如果不想帶行號的話則是把 <code>linenums</code> 拿掉</p>
<pre><code># markdown 格式
&lt;!--?prettify?--&gt;
my code...etc
</code></pre>
<pre><code class="html"># html 格式
&lt;pre class=&quot;prettyprint&quot;&gt;
    my code...etc
&lt;pre&gt;
</code></pre><h2>新 blog 要放在哪?</h2><p>任何可以放 static site 的雲端空間都可以當存放站台，我自己的選擇是放在 github。原因的話有二個</p>
<ol>
  <li>static site 放 github <strike>正潮</strike>不用錢</li>
  <li>github 的網路頻寬夠大，連過去速度夠快</li>
</ol><p>在 github 上建立 static site 的<a href="https://pages.github.com/">方法</a>很簡單，分成二種方式</p>
<ul>
  <li><p>第一種是在 github 上建立 <code>{myAccount}.github.io</code> 的 repository，接著把 static site 推上去，然後連到 <code>http://{myAccount}.github.io</code> 就可以看到建立的站台</p></li>
  <li><p>第二種則是在 github 現有的 <code>{myProject}</code> repository 建立 <code>gh-pages</code> branch，接著把 static site 推上去，然後連到 <code>http://{myAccount}.github.io/{myProject}</code> 就可以看到建立的站台</p></li>
</ul><h2>舊資料要怎麼搬過去?</h2><p>搬舊資料沒啥現成工具可用，只好自己寫工具。我利用 <a href="http://jsoup.org/">jsoup</a>, <a href="https://github.com/rometools/rome">rome</a> lib 寫了 <a href="https://github.com/cloudtu/blogger-to-jbake">blogger-to-jbake<br/></a> 這個專門從 blogger 搬家到 jbake 的搬遷工具。它可以把放在 blogger 裡的個人文章、圖片全部匯出至本地端，並且轉成 jbake 可以匯入的檔案格式。</p><h2>後記</h2><p>其實 blog 搬家很辛苦，自建 static blog site 就更辛苦了，但是相對的獲益也非常巨大。什麼都自己來代表什麼都掌控在手中，未來如果發生任何狀況都可以自己應付，也不會遇到 vendor 倒了就全部資料人間蒸發的鳥事。記得以前無名小站倒了時網路上哀聲遍野，未來收掉的 blog service 只會更多不會更少，長遠考量下還是自己的 blog 自己蓋比較實際呀~~~</p></p>

        <hr />
      </div>

      <div>
        <a href="blog/2015/07/java-library-for-github-api.html" shape="rect"><h1>java library for github api 心得筆記</h1></a>
        <p>2015-07-03</p>

        <p>
          <em>Tags:
            <span>
              <a shape="rect" href="tags/程式語言.html">程式語言</a>
              <span>,</span>
            </span>
            <span>
              <a shape="rect" href="tags/github.html">github</a>
              <span>,</span>
            </span>
            <span>
              <a shape="rect" href="tags/java.html">java</a>
              
            </span>
          </em>
        </p>

        <p>
這陣子用 java 去呼叫 github restful api 之後有些心得，將它做個簡單記錄
<br>
<ul>
 <li>github api v3 說明文件在<a href="https://developer.github.com/v3/" target="_blank">這裡</a></li>
 <li>github 推薦的 java library 有<a href="https://developer.github.com/libraries/" target="_blank">下列三個</a><br>
  <ul>
   <li><a href="https://github.com/eclipse/egit-github/tree/master/org.eclipse.egit.github.core" target="_blank">egit-github</a></li>
   <li><a href="https://github.com/kohsuke/github-api" target="_blank">kohsuke-github-api</a></li>
   <li><a href="https://github.com/jcabi/jcabi-github" target="_blank">jcabi-github</a></li>
  </ul></li>
 <li>java library 對 github api v3 支援度<br>
  <ul>
   <li>kohsuke-github-api &gt; jcabi-github &gt; egit-github</li>
   <li>kohsuke-github-api 實作最完整</li>
   <li>jcabi-github 缺少很多實作</li>
   <li>egit-github 的目標是 100% 支援 github api v3，可是 source code 裡反而還存留一堆呼叫 github legacy api 的 code</li>
  </ul></li>
 <li>java library 操作便捷性<br>
  <ul>
   <li> jcabi-github &gt; kohsuke-github-api &gt; egit-github</li>
   <li>kohsuke-github-api 與 jcabi-github 在操作上比 egit-github 好很多，egit-github 這方面顯的過時</li>
  </ul></li>
 <li>java library 說明文件完整度<br>
  <ul>
   <li>三者都很爛，沒啥文件說明。要查怎麼使用要去看 source code 裡 junit test 相關 class</li>
   <li>因為 egit-github 出來時間最早，所以 <a href="http://stackoverflow.com/" target="_blank">stackoverflow</a> 裡比較能找到 egit-github 相關問題的解答</li>
  </ul></li>
 <li>總結<br>
  <ul>
   <li>以現況而言，個人推薦使用 kohsuke-github-api。它對 github api v3 支援最完整，在 libray 操作上也蠻直覺的</li>
   <li>如果不介意 library 是否用到 github api v3，而是要找白老鼠最多的 library，那選 egit-github 就對了。它最早出來，所以功能最完整，白老鼠最多</li>
   <li>從設計角度來看，jcabi-github 設計最好。但是因為它太年輕，欠缺很多功能</li>
   <li><a href="https://developer.github.com/v3/search/" target="_blank">github search api</a> 有 bug，我遇過查詢條件正確，但是查詢結果是錯誤的狀況。如果用 java library 去呼叫 github api 卻發現結果總是錯的，這時除了要懷疑 library 本身有 bug 之外，最好要用 restful client 去驗証 github api 是不是一開始就回傳錯誤資料 </li>
  </ul></li>
</ul>
</p>

        <hr />
      </div>

      <div>
        <a href="blog/2015/02/https-github-push-pull.html" shape="rect"><h1>用 https 連線到 github 進行 push(或 pull) 時，略過每次都要打帳密的動作</h1></a>
        <p>2015-02-26</p>

        <p>
          <em>Tags:
            <span>
              <a shape="rect" href="tags/git.html">git</a>
              <span>,</span>
            </span>
            <span>
              <a shape="rect" href="tags/github.html">github</a>
              
            </span>
          </em>
        </p>

        <p>
當 local repository 用 https 連線至 github 進行 push(或 pull) 時，總是都要打一次帳號與密碼。頻繁進行 push(或 pull) 時，打帳密的動作就變的很惱人。雖然說用 ssh 連線就可免掉這問題，不過在使用 https 的前題下，這問題也是有解法。
<br>&nbsp;&nbsp;&nbsp; 
<br>首先，先確定 git 版本大於等於 1.7.9。如果是 windows 使用者，請先安裝 TortoiseGit(版本必需大於等於 1.8.1.2)。
<br>
<br>以下範例用 TortoiseGit 進行操作
<br>
<ol>
 <li>確認 "Credential helper" 選到 "wincred - this repository only"。<br><a href="/img/2015/02/201502261657_1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2015/02/201502261657_1.png" height="183" width="400"></a></li>
 <li>進行修改後的第一次 push(或 pull)，這時會出現輸入帳密的指示，照著指示輸入完成。以後進行 push(或 pull) 時不會再問你帳密了。</li>
 <li>開啟 "我的電腦"，輸入 "控制台\使用者帳戶和家庭安全\認證管理員"，這時會發現多一組 github 專用的憑証。以後你若改過 github 上的密碼，記的要來這裡修改憑証內的資料，不然在你執行 push(或 pull) 時會發生無法登入 github 的狀況。<br><a href="/img/2015/02/201502261657_2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2015/02/201502261657_2.png" height="332" width="400"></a></li>
</ol>網路上面相關參考資料如下，linux、mac 使用者可參考這些資料來處理上述文章所提的問題。 
<br>
<ol>
 <li><a href="http://stackoverflow.com/a/5343146/779564" target="_blank">Is there a way to skip password typing when using https:// github</a></li>
 <li><a href="http://stackoverflow.com/a/15351702/779564" target="_blank">TortoiseGit save user authentication / credentials</a></li>
 <li><a href="http://stackoverflow.com/a/15382950/779564" target="_blank">remove credentials from git</a></li>
</ol>
</p>

        <hr />
      </div>

      <div>
        <a href="blog/2015/02/github-project-branch-bitbucket.html" shape="rect"><h1>如何備份 github 各別 project 所有 branch 到本地端，並將該專案搬移至 bitbucket</h1></a>
        <p>2015-02-26</p>

        <p>
          <em>Tags:
            <span>
              <a shape="rect" href="tags/bitbucket.html">bitbucket</a>
              <span>,</span>
            </span>
            <span>
              <a shape="rect" href="tags/git.html">git</a>
              <span>,</span>
            </span>
            <span>
              <a shape="rect" href="tags/github.html">github</a>
              
            </span>
          </em>
        </p>

        <p>
執行 "git clone" 無法將 github 各別 project 的所有 remote branch 都在 local repository 產生一份，只會在 local 產生 master branch。這時如果要將 local repository push 到(或說是搬到) new remote repository 會發生很大的問題。當你在 local repository 執行完 "git push --all" 後會發現 remote repository 只存在 master branch，其它 branch 不會出現在裡面。
<br>
<br>當然!你可以在執行完 "git clone" 後，接著執行 "git checkout" 將 remote branch 在 local repository 裡手動一個個建出來。不過這種傻事還是少幹的好，如果 remote branch 有好儿十個，手工建立對應的 local branch 可能會讓你哭爹喴娘。這時當然要用有效率的招式才行!!!
<br>
<br>先寫出備份 github project 專用的備份 script。我把它命名為 github_project_backup.sh
<br>
<pre class="prettyprint">#github_project_backup.sh<br>#!/bin/sh<br><br>#執行前要先修改這裡，設定你的 github id<br>github_user_id=my_github_id<br><br>#執行前要先修改這裡，設定你的 github password<br>github_user_pwd=my_github_pwd<br><br>#執行這個 bash 時，在 console 要輸入的 github project name<br>read -p "input the name of github project : " github_project_name<br><br>#在 local 端產生 bare repository，並將 remote 端的每個 branch 都在 local 端產生一份<br>#<br># --mirror 參數的官方說明如下<br># Set up a mirror of the source repository. This implies --bare. Compared to --bare, --mirror not only <br># maps local branches of the source to local branches of the target, it maps all refs (including <br># remote-tracking branches, notes etc.) and sets up a refspec configuration such that all these refs <br># are overwritten by a git remote update in the target repository.<br>#<br>git clone --mirror https://${github_user_id}:${github_user_pwd}@github.com/${github_user_id}/${github_project_name}.git<br><br>cd ${github_project_name}.git<br><br>#因為 remote repository 在你備份到 local 端之後可能會刪除，所以先把 remote 來源刪掉<br>git remote rm origin<br><br>cd ..<br></pre>進行備份，流程像下述這樣
<br>
<ol>
 <li>remote repository 有二個 branch、二個 tag<br><a href="/img/2015/02/201502261434_1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2015/02/201502261434_1.png" height="218" width="400"></a></li>
 <li>輸入 github 裡的 project name<br><a href="/img/2015/02/201502261434_2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2015/02/201502261434_2.png" height="157" width="400"></a></li>
 <li>github_project_backup.bash 執行完畢後，產生 local bare repository，而且裡面有二個 local branch、二個 local tag<br><a href="/img/2015/02/201502261434_3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2015/02/201502261434_3.png" height="400" width="377"></a></li>
</ol>如果只打算把 github 的 project 在刪除前先備份到本地端後再刪除，到這步驟就算完成了。之後可以視需求再把備分下來的 local bare repository 進行 zip 或是 tgz 後丟到雲端(e.g. AWS S3,dropbox...etc)進行封存。
<br>
<br>如果是打算把 local repository push 到(或說是搬到) new remote repository，接下來要執行下列指令。
<br>
<pre class="prettyprint">cd /path/to/my_local_repository<br>git remote add origin https://my_new_remote_repository<br>git push -u origin --all #pushes up the repo and its refs for the first time <br>git push -u origin --tags #pushes up any tags<br></pre>接續的搬移流程像下述這樣
<br>
<ol>
 <li>new remote repository 指到 bitbucket<br><a href="/img/2015/02/201502261434_4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2015/02/201502261434_4.png" height="246" width="400"></a></li>
 <li>搬完後 bitbucket 裡的 remote repository 有二個 branch、二個 tag，跟當初放在 github 裡的一樣<br><a href="/img/2015/02/201502261434_5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2015/02/201502261434_5.png" height="153" width="400"></a></li>
</ol>至此就完成了從 github 搬到 bitbucket 的動作。
<br>
<br>你說何時有機會用到這篇文章的招式?如果你在 github 上面開了太多 private repository，超過單一付費帳號許可的最大上限(目前 github 最多只能開 50 個 private repository)，這招就用的上了...XDDD
</p>

        <hr />
      </div>

      <div>
        <a href="blog/2014/12/oauth2.html" shape="rect"><h1>OAuth2 心得筆記</h1></a>
        <p>2014-12-07</p>

        <p>
          <em>Tags:
            <span>
              <a shape="rect" href="tags/oauth2.html">oauth2</a>
              
            </span>
          </em>
        </p>

        <p>
這陣子因為工作上需要，必需了解 OAuth2 原理。在網路上查了一陣子後發現下面這份解說詳盡的投影片，有興趣的人可以參考一下...:)
<br>
<br>簡單易懂的 OAuth 2.0 (
<a href="https://speakerdeck.com/chitsaou/jian-dan-yi-dong-de-oauth-2-dot-0" target="_blank">投影片</a>) (
<a href="https://www.youtube.com/watch?v=tMG-kl_uohY" target="_blank">錄影</a>) 
<br>
<br>我沒有實作 OAuth2 的需求，但是有使用 OAuth2 的需求，必需對它裡面的認証、授權機制有通盤了解。投影片裡跟 OAuth2 認証、授權相關的資料節錄如下，並做摘要說明。
<br>
<br>======================================================================
<br>OAuth2 裡的 Role
<br>
<br>
<a href="/img/2014/12/201412072007_1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2014/12/201412072007_1.png" height="218" width="400"></a>
<br>
<ul>
 <li>Authorization Server<br>
  <ul>
   <li>「Authorization Server」發出去的授權碼有二種，分別是「Grant Code」、「Token」</li>
   <li>&nbsp;「Resource Owner」同意「Client」存取「Resource Owner」的資料時，「Authorization Server」發「Grant Code」給「Client」</li>
   <li>「Client」可以拿「Grant Code」跟「Authorization Server」換「Token」 </li>
  </ul></li>
 <li>Resource Server<br>
  <ul>
   <li>「Resource Server」的存取認証是認「Token」不是認「Grant Code」</li>
   <li>用「Token」跟「Resource Server」進行認証，認証成功後可以存取「Resource Owner」的資料 </li>
  </ul></li>
</ul>======================================================================
<br>OAuth2 授權流程
<br>
<ol>
 <li>Authorization Code Grant Flow<br><a href="/img/2014/12/201412072007_2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2014/12/201412072007_2.png" height="208" width="400"></a><br>先跟「Authorization Server」要「Grant Code」，接著再用「Grant Code」去跟「Authorization Server」換「Token」</li>
 <li>Implicit Grant Flow<br><a href="/img/2014/12/201412072007_3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2014/12/201412072007_3.png" height="277" width="400"></a><br>直接跟「Authorization Server」要「Token」，沒有「Grant Code」換「Token」的步驟</li>
 <li>Resource Owner Password Credentials Grant Flow<br><a href="/img/2014/12/201412072007_4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2014/12/201412072007_4.png" height="233" width="400"></a><br>拿「Resource Owner」的 username、password 去跟「Authorization Server」要「Token」</li>
 <li>Client Credentials Grant Flow <br><a href="/img/2014/12/201412072007_5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="/img/2014/12/201412072007_5.png" height="195" width="400"></a><br>「Authorization Server」不需經由認証就直接給「Token」</li>
</ol>
</p>

        <hr />
      </div>

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <p>較舊的文章在
      <a href="archive.html" shape="rect">archive</a> 專區.</p>
    </div>
  </div>

  <div>
      <div id="push"></div>

        <div id="footer">
          <div class="container">
            <p class="muted credit">&copy; <span>2015</span> CloudTu | Baked with <a href="http://jbake.org" shape="rect">JBake
              <span>v2.3.2</span></a></p>
          </div>
        </div>

        <!-- Le javascript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script xml:space="preserve" src="/js/jquery-2.1.1.min.js"></script>
        <script xml:space="preserve" src="/js/bootstrap.min.js"></script>
        <script xml:space="preserve" src="/js/prettify.js"></script>

      </div>
    </body>
</html>
